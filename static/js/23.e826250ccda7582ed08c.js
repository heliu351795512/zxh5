webpackJsonp([23],{"3HFK":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Xxa5"),i=a.n(s),n=a("Gu7T"),r=a.n(n),o=a("exGp"),l=a.n(o),c={name:"Coupon",data:function(){return{userInfo:JSON.parse(localStorage.getItem("userInfo")).data,isModalShow:!1,pageNum:1,pageSize:20,listData:[],loading:!1,isLoadedAll:!1,ruleText:""}},components:{Modal:a("gdmT").a},created:function(){this.getList(),this.getRule()},methods:{viewRule:function(){this.isModalShow=!0},getList:function(){var t=this;return l()(i.a.mark(function e(){var a,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$request("get","/user/getmygoodspagelist",{uid:t.userInfo.uid,page_num:t.pageNum,page_size:t.pageSize});case 2:a=e.sent,s=a.data.list||[],t.listData=[].concat(r()(t.listData),r()(s));case 5:case"end":return e.stop()}},e,t)}))()},loadMore:function(){var t=this;return l()(i.a.mark(function e(){var a,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isLoadedAll){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,t.pageNum++,e.next=6,t.$request("get","/user/getmygoodspagelist",{uid:t.userInfo.uid,page_num:t.pageNum,page_size:t.pageSize});case 6:a=e.sent,s=a.data.list||[],t.listData=[].concat(r()(t.listData),r()(s)),0===a.data.list.length&&(t.isLoadedAll=!0),t.loading=!1;case 11:case"end":return e.stop()}},e,t)}))()},getRule:function(){var t=this;return l()(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$request("get","/activity/getrule",{type:"4"});case 2:a=e.sent,t.ruleText=a.data;case 4:case"end":return e.stop()}},e,t)}))()}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"coupon",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"10"}},[a("div",{staticClass:"coupon-list"},t._l(t.listData,function(e,s){return a("div",{key:s,staticClass:"coupon-box"},[a("div",{staticClass:"coupon-item"},[a("div",{staticClass:"hd"},[a("div",{staticClass:"price"},[a("span",{staticClass:"label"},[t._v("¥")]),t._v(" "),a("span",{staticClass:"num"},[t._v(t._s(e.price))])]),t._v(" "),a("div",{staticClass:"name"},[t._v(t._s(e.name))])]),t._v(" "),a("div",{staticClass:"bd"},[a("div",{staticClass:"sn"},[t._v("卡号："+t._s(e.card_no))]),t._v(" "),a("div",{staticClass:"key"},[t._v("卡密："+t._s(e.card_ps))]),t._v(" "),a("div",{staticClass:"link"},[t._v("消费链接："+t._s(e.url))]),t._v(" "),a("div",{staticClass:"date"},[t._v(t._s(e.create_time))]),t._v(" "),a("div",{staticClass:"remark"},[t._v(t._s(e.worth))])])])])}),0),t._v(" "),a("div",{staticClass:"rule"},[a("span",{on:{click:t.viewRule}},[t._v("商品规则")])]),t._v(" "),a("Modal",{staticClass:"modal",attrs:{visible:t.isModalShow,title:"商品规则"},on:{"update:visible":function(e){t.isModalShow=e}}},[a("div",{staticClass:"modal-content",attrs:{slot:"content"},slot:"content"},[a("div",{staticClass:"text mb-24"},[t._v("\n        "+t._s(t.ruleText)+"\n      ")])])])],1)},staticRenderFns:[]};var d=a("VU/8")(c,u,!1,function(t){a("6hho")},"data-v-1f301e28",null);e.default=d.exports},"6hho":function(t,e){}});
//# sourceMappingURL=23.e826250ccda7582ed08c.js.map